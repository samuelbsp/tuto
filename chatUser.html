<!DOCTYPE html>
<html>
<head>
<title>Tuto</title>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="Styles/style.css">
<script src="http://code.jquery.com/jquery-1.7.1.min.js" type="text/javascript"></script>
<script src="js/scriptIndex.js" type="text/javascript"></script>
</head>
<body>
	<div id="wrapper">	
		<h1>ChatUser.class.php</h1>
        <a href="index.html"><p>RETOUR</p></a>
        <h2>Partie 1</h2>
        <p>Ce fichier insère les données des utilisateurs dans la base de donnée</p>
		<pre>
    		<div class="code">
class ChatUser extends ChatBase{

    protected $name = '', $gravatar = '';

    public function save(){

        DB::query("
            INSERT INTO webchat_users (name, gravatar)
            VALUES (
                '".DB::esc($this->name)."',
                '".DB::esc($this->gravatar)."'
        )");

        return DB::getMySQLiObject();
    }

    public function update(){
        DB::query("
            INSERT INTO webchat_users (name, gravatar)
            VALUES (
                '".DB::esc($this->name)."',
                '".DB::esc($this->gravatar)."'
            ) ON DUPLICATE KEY UPDATE last_activity = NOW()");
    }
}
            </div>
        </pre>

	</div>
</body>