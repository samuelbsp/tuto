<!DOCTYPE html>
<html>
<head>
<title>Tuto</title>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="Styles/style.css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
<script src="http://code.jquery.com/jquery-1.7.1.min.js" type="text/javascript"></script>
<script src="js/script.js" type="text/javascript"></script>
<script src="js/jquery.smooth-scroll.js"></script>
<script src="js/jquery.smooth-scroll.min.js"></script>
</head>
<body>
	<div id="wrapper">	
		<h1>ChatUser.class.php</h1>
        <a href="index.html"><span class="btn">Retour</span></a>
        <h2>Partie <span class="green">1</span></h2>
        <p>Ce fichier insère les données des utilisateurs dans la base de donnée</p>
		<pre>
    		<div class="code">
class ChatUser extends ChatBase{

    protected $name = '', $gravatar = '';

    public function save(){

        DB::query("
            INSERT INTO webchat_users (name, gravatar)
            VALUES (
                '".DB::esc($this->name)."',
                '".DB::esc($this->gravatar)."'
        )");

        return DB::getMySQLiObject();
    }

    public function update(){
        DB::query("
            INSERT INTO webchat_users (name, gravatar)
            VALUES (
                '".DB::esc($this->name)."',
                '".DB::esc($this->gravatar)."'
            ) ON DUPLICATE KEY UPDATE last_activity = NOW()");
    }
}
            </div>
        </pre>

	</div>
</body>